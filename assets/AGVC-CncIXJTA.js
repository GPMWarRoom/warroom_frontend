import{d as N,r as b,o as D,k as M,g as n,b as _,c as q,i as e,f as t,h as l,l as u,t as c,e as m,m as I,n as z,_ as S,C as F,u as V,p as H,q as T,s as O,v as $}from"./index-CQ-FjtYj.js";const U={class:""},J={class:"agvc-info h-100 d-flex flex-column justify-content-space-between"},K={class:"d-flex justify-content-between align-items-center"},P={class:"system-status"},Q={class:"status-item"},W={class:"status-value"},X={class:"status-item"},Y={class:"status-value"},Z={class:"d-flex justify-content-between align-items-center"},tt={class:"d-flex justify-content-between align-items-center"},et=N({__name:"RealTimeDashboard",setup(B){const r=b(0);D(()=>{const p=document.getElementById("eq-status-card");p&&setTimeout(()=>{r.value=(p==null?void 0:p.clientHeight)||0},200)});const w=M(()=>r.value*.8+"px"),d=b([{id:"AGV-001",status:"online",battery:85},{id:"AGV-002",status:"charging",battery:30},{id:"AGV-002",status:"charging",battery:30},{id:"AGV-002",status:"charging",battery:30},{id:"AGV-002",status:"charging",battery:30},{id:"AGV-002",status:"charging",battery:30}]),g=b([{id:"T001sssssddddds",type:"搬運",status:"processing",progress:45},{id:"T002sssdss",type:"充電",status:"waiting",progress:0},{id:"T003ssdddddssss",type:"搬運",status:"completed",progress:100},{id:"T003ssdddddssss",type:"搬運",status:"completed",progress:100},{id:"T003ssdddddssss",type:"搬運",status:"completed",progress:100}]),a=b({maintenance:!1,hostConnected:!1,isRemote:!1}),h=()=>{a.value.maintenance=!a.value.maintenance},v=p=>({online:"success",offline:"danger",charging:"warning"})[p]||"info",L=p=>({processing:"primary",waiting:"warning",completed:"success",failed:"danger"})[p]||"info";return(p,s)=>{const x=n("el-button"),A=n("el-button-group"),G=n("el-icon"),y=n("el-tag"),f=n("el-card"),i=n("el-table-column"),j=n("el-progress"),C=n("el-table"),E=n("el-col"),R=n("el-row");return _(),q("div",U,[e(R,{class:"h-100",gutter:5},{default:t(()=>[e(E,{lg:8,class:"h-100 pt-2"},{default:t(()=>[l("div",J,[e(f,{class:""},{header:t(()=>[l("div",K,[s[0]||(s[0]=l("span",null,"系統運轉模式",-1)),e(A,null,{default:t(()=>[e(x,{type:a.value.maintenance?"danger":"success",size:"small",onClick:h},{default:t(()=>[u(c(a.value.maintenance?"維護模式":"運轉模式"),1)]),_:1},8,["type"])]),_:1})])]),default:t(()=>[l("div",P,[l("div",Q,[s[1]||(s[1]=l("span",{class:"status-label"},"Host 連線狀態:",-1)),l("div",W,[e(y,{type:a.value.hostConnected?"success":"info",class:"ml-2"},{default:t(()=>[e(G,{class:"status-icon"},{default:t(()=>[(_(),m(I(a.value.hostConnected?"CircleCheckFilled":"CircleCloseFilled")))]),_:1}),u(" "+c(a.value.hostConnected?"ONLINE":"OFFLINE"),1)]),_:1},8,["type"])])]),l("div",X,[s[2]||(s[2]=l("span",{class:"status-label"},"搬運命令派送模式:",-1)),l("div",Y,[e(y,{type:a.value.isRemote?"warning":"info",class:"ml-2"},{default:t(()=>[e(G,{class:"status-icon"},{default:t(()=>[(_(),m(I(a.value.isRemote?"Connection":"Switch")))]),_:1}),u(" "+c(a.value.isRemote?"REMOTE":"LOCAL"),1)]),_:1},8,["type"])])])])]),_:1}),e(f,{class:"my-2"},{header:t(()=>[l("div",Z,[s[5]||(s[5]=l("span",null,"任務列表",-1)),e(A,null,{default:t(()=>[e(x,{type:"primary",size:"small"},{default:t(()=>s[3]||(s[3]=[u("當前任務")])),_:1}),e(x,{type:"info",size:"small"},{default:t(()=>s[4]||(s[4]=[u("歷史記錄")])),_:1})]),_:1})])]),default:t(()=>[e(C,{data:g.value,stripe:"",height:"250px"},{default:t(()=>[e(i,{"show-overflow-tooltip":"",prop:"id",label:"任務ID",width:"120"}),e(i,{"show-overflow-tooltip":"",prop:"type",label:"類型",width:"100"}),e(i,{"show-overflow-tooltip":"",prop:"status",label:"狀態",width:"100"},{default:t(({row:o})=>[e(y,{type:L(o.status)},{default:t(()=>[u(c(o.status),1)]),_:2},1032,["type"])]),_:1}),e(i,{prop:"progress",label:"進度"},{default:t(({row:o})=>[e(j,{percentage:o.progress},null,8,["percentage"])]),_:1})]),_:1},8,["data"])]),_:1}),e(f,{class:"flex-grow-1",id:"eq-status-card"},{header:t(()=>[l("div",tt,[s[6]||(s[6]=l("span",null,"設備狀態",-1)),u(" "+c(r.value)+","+c(w.value),1)])]),default:t(()=>[e(C,{data:d.value,stripe:"",style:z({height:w.value})},{default:t(()=>[e(i,{prop:"id",label:"ID",width:"110"}),e(i,{prop:"status",label:"狀態",width:"100"},{default:t(({row:o})=>[e(y,{type:v(o.status)},{default:t(()=>[u(c(o.status),1)]),_:2},1032,["type"])]),_:1}),e(i,{prop:"battery",label:"電量"},{default:t(({row:o})=>[e(j,{percentage:o.battery},null,8,["percentage"])]),_:1})]),_:1},8,["data","style"])]),_:1})])]),_:1}),e(E,{lg:16,class:"h-100 d-flex flex-column pt-2"},{default:t(()=>[e(f,{class:""},{header:t(()=>s[7]||(s[7]=[l("div",{class:"d-flex justify-content-between align-items-center"},[l("span",null,"當前警報訊息")],-1)])),default:t(()=>[s[8]||(s[8]=l("div",{class:"alert-message text-danger"},[l("span",null,"AGV-001 發生故障")],-1))]),_:1}),e(f,{class:"my-2"},{header:t(()=>s[9]||(s[9]=[l("div",{class:"d-flex justify-content-between align-items-center"},[l("span",null,"歷史警報")],-1)])),default:t(()=>[e(C,{data:d.value,stripe:"",style:{height:"246px"}},{default:t(()=>[e(i,{prop:"id",label:"時間",width:"120"}),e(i,{align:"center",prop:"status",label:"等級",width:"100"},{default:t(({row:o})=>[e(y,{type:v(o.status)},{default:t(()=>[u(c(o.status),1)]),_:2},1032,["type"])]),_:1}),e(i,{align:"center","show-overflow-tooltip":"",prop:"status",label:"異常碼",width:"100"},{default:t(()=>s[10]||(s[10]=[l("template",null,[l("span",null,"3303")],-1)])),_:1}),e(i,{prop:"battery",label:"警報訊息"},{default:t(()=>s[11]||(s[11]=[l("template",null,[u(" Message ")],-1)])),_:1})]),_:1},8,["data"])]),_:1}),e(f,{class:"flex-fill"},{header:t(()=>s[12]||(s[12]=[l("div",{class:"d-flex justify-content-between align-items-center"},[l("span",null,"Bird's Eye View")],-1)])),default:t(()=>[s[13]||(s[13]=l("div",{class:"map-container h-100"}," 地圖區域 ",-1))]),_:1})]),_:1})]),_:1})])}}}),k=S(et,[["__scopeId","data-v-bbb0ac26"]]),st={class:"h-100"},lt=N({__name:"AGVC",setup(B){const r=b("monitor");return(w,d)=>{const g=n("el-icon"),a=n("el-tab-pane"),h=n("el-tabs");return _(),m(F,null,{default:t(()=>[l("div",st,[e(h,{modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=v=>r.value=v),class:"agvc-tabs",type:"card"},{default:t(()=>[e(a,{label:"場域監控",name:"monitor"},{label:t(()=>[e(g,null,{default:t(()=>[e(V(H))]),_:1}),d[1]||(d[1]=l("span",null,"場域監控",-1))]),default:t(()=>[r.value==="monitor"?(_(),m(k,{key:0,class:"tab-content-component"})):T("",!0)]),_:1}),e(a,{label:"任務管理",name:"tasks"},{label:t(()=>[e(g,null,{default:t(()=>[e(V(O))]),_:1}),d[2]||(d[2]=l("span",null,"任務管理",-1))]),default:t(()=>[r.value==="tasks"?(_(),m(k,{key:0,class:"tab-content-component"})):T("",!0)]),_:1}),e(a,{label:"系統設定",name:"settings"},{label:t(()=>[e(g,null,{default:t(()=>[e(V($))]),_:1}),d[3]||(d[3]=l("span",null,"系統設定",-1))]),default:t(()=>[r.value==="settings"?(_(),m(k,{key:0,class:"tab-content-component"})):T("",!0)]),_:1})]),_:1},8,["modelValue"])])]),_:1})}}}),nt=S(lt,[["__scopeId","data-v-178eac52"]]);export{nt as default};
